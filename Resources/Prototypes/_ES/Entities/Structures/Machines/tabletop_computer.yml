# This is YAML copypaste hell, but there's not really any better way to do it with how computers are currently structured.
# If something here is outdated compared to the normal terminal computers, don't be surprised.

- type: entity
  parent: BaseComputer
  id: ESBaseTabletopComputer
  name: computer
  suffix: Tabletop
  components:
  - type: Sprite
    sprite: _ES/Structures/Machines/tabletop_computer.rsi
    drawdepth: SmallObjects
    noRot: true
    layers:
    - map: ["computerLayerBody"]
      state: computer
    - map: ["computerLayerScreen"]
      state: generic
    - map: [ "enum.WiresVisualLayers.MaintenancePanel" ]
      state: generic_panel_open
  - type: Appearance
  - type: GenericVisualizer
    visuals:
      enum.ComputerVisuals.Powered:
        computerLayerScreen:
          True: { visible: true, shader: unshaded }
          False: { visible: false }
      enum.WiresVisuals.MaintenancePanelState:
        enum.WiresVisualLayers.MaintenancePanel:
          True: { visible: false }
          False: { visible: true }
      enum.ConstructionVisuals.Key:
        enum.ConstructionVisuals.Layer:
          frameUnsecured: { state: 0 }
          boardUnsecured: { state: 1 }
          missingWires: { state: 2 }
          monitorMissing: { state: 3 }
          monitorUnsecured: { state: 4 }
  - type: PointLight
    radius: 1.5
    energy: 1.5
    falloff: 40
    curveFactor: 0.75
    enabled: true
    color: "#00b000"
  - type: Construction
    graph: ESTabletopComputer
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.10,-0.10,0.10,0.10"
        density: 500
        mask:
        - TabletopMachineMask
        layer:
        - BulletImpassable

- type: entity
  parent: ESBaseTabletopComputer
  id: ESBaseTabletopComputerAiAccess
  abstract: true
  components:
  - type: StationAiWhitelist
  - type: Wires
    boardName: wires-board-name-computer
    layoutId: ComputerAi

- type: entity
  parent: ComputerFrame
  id: ESTabletopComputerFrame
  name: tabletop computer frame
  description: A tabletop computer under construction.
  components:
  - type: Sprite
    layers:
    - state: tabletop_0
      map: [ "enum.ConstructionVisuals.Layer" ]
  - type: Appearance
  - type: GenericVisualizer
    visuals:
      enum.ConstructionVisuals.Key:
        enum.ConstructionVisuals.Layer:
          frameUnsecured: { state: tabletop_0 }
          boardUnsecured: { state: tabletop_1 }
          missingWires: { state: tabletop_2 }
          monitorMissing: { state: tabletop_3 }
          monitorUnsecured: { state: tabletop_4 }
  - type: Construction
    graph: ESTabletopComputer
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.10,-0.10,0.10,0.10"
        density: 500
        mask:
        - TabletopMachineMask
        layer:
        - BulletImpassable

- type: entity
  parent: ComputerBroken
  id: ESTabletopComputerBroken
  name: broken tabletop computer
  components:
  - type: Sprite
    sprite: _ES/Structures/Machines/tabletop_computer.rsi
  - type: Construction
    graph: ESTabletopComputer
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.10,-0.10,0.10,0.10"
        density: 500
        mask:
        - TabletopMachineMask
        layer:
        - BulletImpassable

- type: entity
  parent: ESBaseTabletopComputerAiAccess
  id: ESComputerMedicalRecordsTabletop
  name: medical records computer
  description: This can be used to check medical records.
  components:
  - type: Sprite
    layers:
    - map: ["computerLayerBody"]
      state: computer
    - map: ["computerLayerScreen"]
      state: medcomp
    - map: [ "enum.WiresVisualLayers.MaintenancePanel" ]
      state: generic_panel_open
  - type: PointLight
    radius: 1.5
    energy: 1.6
    color: "#1f8c28"
  - type: Computer
    board: MedicalRecordsComputerCircuitboard

- type: entity
  parent: ESBaseTabletopComputerAiAccess
  id: ESComputerCriminalRecordsTabletop
  name: criminal records computer
  description: This can be used to check criminal records. Only security can modify them.
  components:
  - type: CriminalRecordsConsole
  - type: UserInterface
    interfaces:
      enum.CriminalRecordsConsoleKey.Key:
        type: CriminalRecordsConsoleBoundUserInterface
      enum.WiresUiKey.Key:
        type: WiresBoundUserInterface
  - type: ActivatableUI
    key: enum.CriminalRecordsConsoleKey.Key
  - type: Sprite
    layers:
    - map: ["computerLayerBody"]
      state: computer
    - map: ["computerLayerScreen"]
      state: security
    - map: [ "enum.WiresVisualLayers.MaintenancePanel" ]
      state: generic_panel_open
  - type: PointLight
    radius: 1.5
    energy: 1.6
    color: "#1f8c28"
  - type: Computer
    board: CriminalRecordsComputerCircuitboard
  - type: AccessReader
    access: [["Security"]]
  - type: GuideHelp
    guides:
    - CriminalRecords
  - type: ESSabotageTarget

- type: entity
  parent: ESBaseTabletopComputerAiAccess
  id: ESComputerStationRecordsTabletop
  name: station records computer
  description: This can be used to check station records.
  components:
  - type: GeneralStationRecordConsole
  - type: UserInterface
    interfaces:
        enum.GeneralStationRecordConsoleKey.Key:
          type: GeneralStationRecordConsoleBoundUserInterface
        enum.WiresUiKey.Key:
          type: WiresBoundUserInterface
  - type: ActivatableUI
    key: enum.GeneralStationRecordConsoleKey.Key
  - type: PointLight
    radius: 1.5
    energy: 1.6
    color: "#1f8c28"
  - type: Computer
    board: StationRecordsComputerCircuitboard
  - type: GuideHelp
    guides:
    - Forensics

- type: entity
  parent: ESBaseTabletopComputerAiAccess
  id: ESComputerCrewMonitoringTabletop
  name: crew monitoring console
  description: Used to monitor active health sensors built into most of the crew's uniforms.
  components:
  - type: Sprite
    layers:
    - map: ["computerLayerBody"]
      state: computer
    - map: ["computerLayerScreen"]
      state: crew
    - map: [ "enum.WiresVisualLayers.MaintenancePanel" ]
      state: generic_panel_open
  - type: PointLight
    radius: 1.5
    energy: 1.6
    color: "#006400"
  - type: Computer
    board: CrewMonitoringComputerCircuitboard
  - type: ActivatableUI
    key: enum.CrewMonitoringUIKey.Key
  - type: UserInterface
    interfaces:
        enum.CrewMonitoringUIKey.Key:
          type: CrewMonitoringBoundUserInterface
        enum.WiresUiKey.Key:
          type: WiresBoundUserInterface
  - type: CrewMonitoringConsole
  - type: DeviceNetwork
    deviceNetId: Wireless
    receiveFrequencyId: CrewMonitor
  - type: WirelessNetworkConnection
    range: 1200

- type: entity
  parent: ESBaseTabletopComputerAiAccess
  id: ESComputerIdTabletop
  name: ID card computer
  description: Terminal for programming Nanotrasen employee ID cards to access parts of the station.
  components:
  - type: IdCardConsole
    privilegedIdSlot:
      name: id-card-console-privileged-id
      ejectSound: /Audio/Machines/id_swipe.ogg
      insertSound: /Audio/Weapons/Guns/MagIn/batrifle_magin.ogg
      ejectOnBreak: true
      swap: false
      whitelist:
        components:
        - IdCard
    targetIdSlot:
      name: id-card-console-target-id
      ejectSound: /Audio/Machines/id_swipe.ogg
      insertSound: /Audio/Weapons/Guns/MagIn/batrifle_magin.ogg
      ejectOnBreak: true
      swap: false
      whitelist:
        components:
        - IdCard
  - type: ActivatableUI
    key: enum.IdCardConsoleUiKey.Key
  - type: UserInterface
    interfaces:
      enum.IdCardConsoleUiKey.Key:
        type: IdCardConsoleBoundUserInterface
      enum.WiresUiKey.Key:
        type: WiresBoundUserInterface
  - type: CrewManifestViewer
    ownerKey: enum.IdCardConsoleUiKey.Key
  - type: Speech
    speechVerb: Robotic
    speechSounds: Pai
  - type: Sprite
    layers:
    - map: ["computerLayerBody"]
      state: computer
    - map: ["computerLayerScreen"]
      state: id
    - map: [ "enum.WiresVisualLayers.MaintenancePanel" ]
      state: generic_panel_open
  - type: Computer
    board: IDComputerCircuitboard
  - type: PointLight
    radius: 1.5
    energy: 1.6
    color: "#3c5eb5"
  - type: Tag
    tags:
    - AccessBreakerImmune
  - type: ItemSlots
  - type: ContainerContainer
    containers:
      board: !type:Container
      IdCardConsole-privilegedId: !type:ContainerSlot
      IdCardConsole-targetId: !type:ContainerSlot
  - type: ESSabotageTarget

- type: entity
  parent: ESBaseTabletopComputer
  id: ESComputerSurveillanceCameraMonitorTabletop
  name: camera monitor
  description: A surveillance camera monitor. You're watching them. Maybe.
  components:
  - type: Sprite
    layers:
    - map: ["computerLayerBody"]
      state: computer
    - map: ["computerLayerScreen"]
      state: cameras
    - map: [ "enum.WiresVisualLayers.MaintenancePanel" ]
      state: generic_panel_open
  - type: Computer
    board: SurveillanceCameraMonitorCircuitboard
  - type: DeviceNetwork
    deviceNetId: Wired
    receiveFrequencyId: SurveillanceCamera
    transmitFrequencyId: SurveillanceCamera
  - type: WiredNetworkConnection
  - type: DeviceNetworkRequiresPower
  - type: SurveillanceCameraMonitor
  - type: ActivatableUI
    key: enum.SurveillanceCameraMonitorUiKey.Key
  - type: ActivatableUIRequiresVision
  - type: Transform
    anchored: true
  - type: UserInterface
    interfaces:
        enum.SurveillanceCameraMonitorUiKey.Key:
          type: SurveillanceCameraMonitorBoundUserInterface
        enum.WiresUiKey.Key:
          type: WiresBoundUserInterface

- type: entity
  parent: ESBaseTabletopComputer
  id: ESComputerSurveillanceWirelessCameraMonitorTabletop
  name: wireless camera monitor
  description: A wireless surveillance camera monitor. You're watching them. Maybe.
  components:
  - type: Sprite
    layers:
    - map: ["computerLayerBody"]
      state: computer
    - map: ["computerLayerScreen"]
      state: cameras
    - map: [ "enum.WiresVisualLayers.MaintenancePanel" ]
      state: generic_panel_open
  - type: Computer
    board: SurveillanceWirelessCameraMonitorCircuitboard
  - type: DeviceNetwork
    deviceNetId: Wireless
    receiveFrequencyId: SurveillanceCamera
    transmitFrequencyId: SurveillanceCamera
  - type: WirelessNetworkConnection
    range: 200
  - type: DeviceNetworkRequiresPower
  - type: Speech
    speechVerb: Robotic
  - type: SurveillanceCameraSpeaker
  - type: SurveillanceCameraMonitor
  - type: ActivatableUI
    key: enum.SurveillanceCameraMonitorUiKey.Key
  - type: ActivatableUIRequiresVision
  - type: UserInterface
    interfaces:
        enum.SurveillanceCameraMonitorUiKey.Key:
          type: SurveillanceCameraMonitorBoundUserInterface
        enum.WiresUiKey.Key:
          type: WiresBoundUserInterface

- type: entity
  parent: [ ESBaseComputerSupplyRequest, ESBaseTabletopComputer ]
  id: ESComputerSupplyRequestTabletop
  components:
  - type: Sprite
    layers:
    - map: ["computerLayerBody"]
      state: computer
    - map: ["computerLayerScreen"]
      state: request-0
    - map: [ "enum.WiresVisualLayers.MaintenancePanel" ]
      state: generic_panel_open

# There are only tabletop variants for departments rn because they are more broadly usable.
- type: entity
  parent: ESComputerSupplyRequestTabletop
  id: ESComputerSupplyRequestTabletopCivilian
  suffix: ES, Civilian
  components:
  - type: ESCargoRequestConsole
    defaultConsoleId: department-Civilian

- type: entity
  parent: ESComputerSupplyRequestTabletop
  id: ESComputerSupplyRequestTabletopEngineering
  suffix: ES, Engineering
  components:
  - type: ESCargoRequestConsole
    defaultConsoleId: department-Engineering

- type: entity
  parent: ESComputerSupplyRequestTabletop
  id: ESComputerSupplyRequestTabletopMedical
  suffix: ES, Medical
  components:
  - type: ESCargoRequestConsole
    defaultConsoleId: department-Medical

- type: entity
  parent: ESComputerSupplyRequestTabletop
  id: ESComputerSupplyRequestTabletopScience
  suffix: ES, Science
  components:
  - type: ESCargoRequestConsole
    defaultConsoleId: department-Science

- type: entity
  parent: ESComputerSupplyRequestTabletop
  id: ESComputerSupplyRequestTabletopSecurity
  suffix: ES, Security
  components:
  - type: ESCargoRequestConsole
    defaultConsoleId: department-Security

- type: entity
  parent: ESComputerSupplyRequestTabletop
  id: ESComputerSupplyRequestTabletopService
  suffix: ES, Service
  components:
  - type: ESCargoRequestConsole
    defaultConsoleId: department-Service
