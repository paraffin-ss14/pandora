- type: entity
  parent: ESBaseMaskObjective
  id: ESBaseTraitorObjective
  abstract: true

- type: entity
  parent: ESBaseTraitorObjective
  id: ESBaseTraitorObjectiveMinor # Minor objectives must be completed before the m
  abstract: true
  components:
  - type: ESNukePrereqObjective

- type: entity
  parent: ESBaseTraitorObjectiveMinor
  id: ESObjectiveTraitorKillRandom
  name: Kill a specific member of the crew.
  description: The syndicate needs to make sure they don't interfere with our plans.
  components:
  - type: ESObjective
    icon:
      sprite: Objects/Weapons/Melee/kitchen_knife.rsi
      state: icon
  - type: ESTargetObjective
    title: es-objective-condition-crewmember-kill-title
  - type: ESTargetPlayersObjective
  - type: ESTargetTroupeObjective
    troupe: ESTraitor
    invert: true
  - type: ESKillTargetObjective

### Sabotage objectives
# These are split into base so we can have traitor/vandal variants, since vandal wants a separate description, and no nuke prereq

# Communications
- type: entity
  id: ESBaseObjectiveSabotageCommunications
  name: Sabotage the communications computer
  abstract: true
  components:
  - type: ESObjective
    icon:
      sprite: _ES/Structures/Machines/computer.rsi
      state: comm-icon
  - type: ESCounterObjective
  - type: ESSabotageCondition
    whitelist:
      components:
      - CommunicationsConsole

- type: entity
  id: ESObjectiveTraitorSabotageCommunications
  parent: [ESBaseTraitorObjectiveMinor, ESBaseObjectiveSabotageCommunications]
  description: The syndicate is trying to calculate the station trajectory. It can be extracted from the communications computer.


# Crew monitoring
- type: entity
  id: ESBaseObjectiveSabotageCrewMonitoring
  name: Sabotage the crew monitoring server
  abstract: true
  components:
  - type: ESObjective
    icon: # TODO: proper icon once it's resprited
      sprite: Objects/Tools/wrench.rsi
      state: icon
  - type: ESCounterObjective
  - type: ESSabotageCondition
    whitelist:
      components:
      - CrewMonitoringServer

- type: entity
  id: ESObjectiveTraitorSabotageCrewMonitoring
  parent: [ESBaseTraitorObjectiveMinor, ESBaseObjectiveSabotageCrewMonitoring]
  description: The syndicate is trying to acquire sensitive crew medical records. It can be extracted from the crew monitoring server.


# ID card computer
- type: entity
  id: ESBaseObjectiveSabotageIDComputer
  name: Sabotage the ID card computer
  abstract: true
  components:
  - type: ESObjective
    icon:
      sprite: _ES/Structures/Machines/computer.rsi
      state: id-icon
  - type: ESCounterObjective
  - type: ESSabotageCondition
    whitelist:
      components:
      - IdCardConsole

- type: entity
  id: ESObjectiveTraitorSabotageIDComputer
  parent: [ESBaseTraitorObjectiveMinor, ESBaseObjectiveSabotageIDComputer]
  description: The syndicate want to steal the crew manifest data. It can be extracted from the ID card computer.

# Criminal records
- type: entity
  id: ESBaseObjectiveSabotageCriminalRecords
  name: Sabotage the criminal records
  abstract: true
  components:
  - type: ESObjective
    icon:
      sprite: _ES/Structures/Machines/computer.rsi
      state: security-icon
  - type: ESCounterObjective
  - type: ESSabotageCondition
    whitelist:
      components:
      - CriminalRecordsConsole

- type: entity
  id: ESObjectiveTraitorSabotageCriminalRecords
  parent: [ESBaseTraitorObjectiveMinor, ESBaseObjectiveSabotageCriminalRecords]
  description: The syndicate needs information on its imprisoned members. It can be extracted from the criminal records computer.

# Telecomms servers
- type: entity
  id: ESBaseObjectiveSabotageTelecom
  name: Sabotage the telecom server
  abstract: true
  components:
  - type: ESObjective
    icon:
      sprite: _ES/Structures/Machines/telecomms.rsi
      state: icon
  - type: ESCounterObjective
  - type: ESSabotageCondition
    whitelist:
      components:
      - TelecomServer

- type: entity
  id: ESObjectiveTraitorSabotageTelecom
  parent: [ESBaseTraitorObjectiveMinor, ESBaseObjectiveSabotageTelecom]
  description: The syndicate needs to decode encrypted communication logs from Nanotrasen. They can be found in one of the station telecom servers.


### Main traitor objectives
- type: entity
  parent: ESBaseTraitorObjective
  id: ESObjectiveTraitorHackCryptoNukeConsoles
  name: Hack the nuclear cryptographic terminals
  description: Once the objectives above are completed, hack the terminals to unlock the code for the nuke. The terminals are located in the HoS's office, captain's office, and secure tech storage.
  components:
  - type: ESObjective
    icon:
      sprite: _ES/Structures/Machines/computer.rsi
      state: cryptonuke-icon
  - type: ESCryptoNukeHackObjective

- type: entity
  parent: ESBaseTraitorObjective
  id: ESObjectiveTraitorDetonateNuke
  name: Detonate the nuclear fission explosive
  description: Once all other objectives are complete, use the captain's authentication disk to arm the nuke and prevent the crew from stopping the detonation.
  components:
  - type: ESObjective
    icon:
      sprite: Objects/Devices/nuke.rsi
      state: nuclearbomb_base
  - type: ESCounterObjective
  - type: ESDetonateNukeObjective
